<h2>Uploaded Config History</h2>

<table border="1" style="width: 100%; border-collapse: collapse;">
  <thead>
    <tr>
      <th>ID</th>
      <th>Version</th>
      <th>Timestamp</th>
      <th>YAML Preview</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let config of configs">
      <td>{{ config.id }}</td>
      <td>{{ config.version }}</td>
      <td>{{ config.timestamp }}</td>
      <td>
        <pre style="max-width: 300px; max-height: 150px; overflow: auto;">
          {{ config.yaml_preview }}
        </pre>
      </td>
      <td>
        <button (click)="viewYaml(config)">View</button>
      </td>
    </tr>
  </tbody>
</table>

<!-- Show full YAML below the table when a config is selected -->
<div *ngIf="selectedConfig" style="margin-top: 30px;">
  <h3>Full YAML (Version {{ selectedConfig.version }})</h3>
  <pre style="background-color: #f8f8f8; padding: 15px; border: 1px solid #ccc; white-space: pre-wrap;">
    {{ selectedConfig.yaml_content }}
  </pre>
</div>
